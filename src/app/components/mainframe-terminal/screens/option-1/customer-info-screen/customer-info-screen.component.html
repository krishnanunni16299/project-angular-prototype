<!-- Header Section -->
<div class="mb-5 pb-2.5">
  <!-- Line 1: System ID, Menu Items, Date/Time -->
  <div class="flex justify-between mb-1 font-medium">
    <span
      class="font-normal tracking-normal text-crt-gray [text-shadow:0_0_2px_#A7A7A7,0_0_4px_#A7A7A7]"
      >{{ screen?.header?.systemId }}</span
    >
    <span
      class="flex-grow text-center tracking-[2px] text-crt-gray [text-shadow:0_0_2px_#A7A7A7,0_0_4px_#A7A7A7]"
      >{{ getMenuDisplay?.() }}</span
    >
    <span
      class="min-w-[150px] text-right text-crt-gray [text-shadow:0_0_2px_#A7A7A7,0_0_4px_#A7A7A7]"
      >{{ screen?.header?.date }}</span
    >
  </div>

  <!-- Line 2: Transaction ID, Title, Time -->
  <div class="flex justify-between mb-1 font-medium">
    <span
      class="min-w-[80px] text-crt-gray [text-shadow:0_0_2px_#A7A7A7,0_0_4px_#A7A7A7]"
      >{{ screen?.header?.transactionId }}</span
    >
    <span class="flex-grow text-center text-white">CUSTOMER INFORMATION</span>
    <span
      class="min-w-[150px] text-right text-crt-cyan [text-shadow:0_0_2px_#50D8D5]"
      >{{ screen?.header?.time }}</span
    >
  </div>

  <!-- Line 3: Received Type, Page, Balance -->
  <div class="flex justify-between mb-1 font-medium">
    <span
      class="flex-grow text-sm text-crt-cyan [text-shadow:0_0_2px_#50D8D5]"
      >{{ screen?.header?.receivedType }}</span
    >
    <span
      class="min-w-[150px] text-right text-crt-cyan [text-shadow:0_0_2px_#50D8D5]"
      >{{ getPageDisplay?.() }}</span
    >
  </div>

  <!-- Line 4: Cust/DeptID and Balance -->
  <div class="flex justify-between mb-0 pb-0">
    <span class="min-w-[200px] text-crt-cyan [text-shadow:0_0_2px_#50D8D5]"
      >Cust/DeptID:</span
    >
    <span
      class="text-right min-w-[250px] text-crt-cyan [text-shadow:0_0_2px_#50D8D5]"
      >BALANCE: {{ screen?.header?.balance?.padStart(20) }}</span
    >
  </div>
</div>

<!-- Main Content Area -->
<!-- Document Type Line -->
<div class="mb-5 flex gap-2.5">
  <span class="font-normal text-crt-cyan [text-shadow:0_0_2px_#50D8D5]"
    >Doc. Type:</span
  >
  <span class="tracking-normal text-crt-green [text-shadow:0_0_2px_#41C347]">{{
    screen?.docType
  }}</span>
</div>

<!-- Mail Code (right side) -->
<div class="absolute right-10 top-[150px] flex gap-2.5">
  <span
    class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
    >MAIL Code:</span
  >
  <div class="flex items-baseline flex-grow gap-0">
    <input
      type="text"
      class="bg-transparent border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
      [value]="getFieldValue?.(getFieldById?.('mailCode')!)"
      (input)="onFieldChange?.(getFieldById?.('mailCode')!, $event)"
      maxlength="60"
      [tabindex]="getFieldById?.('mailCode')!.tabIndex"
    />
  </div>
</div>

<!-- Form Fields -->
<div class="mt-5">
  <!-- Description -->
  <div class="flex items-baseline min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Description:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      TEST_DESC
      <input
        type="text"
        class="bg-transparent w-[525px] border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('description')!)"
        (input)="onFieldChange?.(getFieldById?.('description')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('description')!.tabIndex"
      />
    </div>
  </div>

  <!-- Full name -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Full name:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      TEST_NAME
      <input
        type="text"
        class="bg-transparent border-b w-[525px] border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('fullName')!)"
        (input)="onFieldChange?.(getFieldById?.('fullName')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('fullName')!.tabIndex"
      />
    </div>
  </div>

  <!-- Mail-To Name -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Mail-To Name:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      TEST_NAME
      <input
        type="text"
        class="bg-transparent border-b w-64 border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('mailToName')!)"
        (input)="onFieldChange?.(getFieldById?.('mailToName')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('mailToName')!.tabIndex"
      />
    </div>
  </div>

  <!-- Care-of Name -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Care-of Name:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      TEST_CARE_OF_NAME
      <input
        type="text"
        class="bg-transparent w-[180px] border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('careOfName')!)"
        (input)="onFieldChange?.(getFieldById?.('careOfName')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('careOfName')!.tabIndex"
      />
    </div>
  </div>

  <!-- Street -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Street:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      TEST_ST
      <input
        type="text"
        class="bg-transparent border-b w-[276px] border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('street')!)"
        (input)="onFieldChange?.(getFieldById?.('street')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('street')!.tabIndex"
      />
    </div>
  </div>

  <!-- City, State, ZIP -->
  <div class="flex items-baseline mb-0 min-h-[10px] gap-1">
    <span
      class="min-w-[140px] text-right text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >City:</span
    >
    <div class="flex items-baseline gap-0">
      TEST_CITY
      <input
        type="text"
        class="bg-transparent border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('city')!)"
        (input)="onFieldChange?.(getFieldById?.('city')!, $event)"
        maxlength="30"
        [tabindex]="getFieldById?.('city')!.tabIndex"
      />
    </div>
    <span class="text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >St:</span
    >
    <div class="flex items-baseline gap-0">
      MD
      <input
        type="text"
        class="bg-transparent w-[25px] text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('state')!)"
        (input)="onFieldChange?.(getFieldById?.('state')!, $event)"
        maxlength="10"
        [tabindex]="getFieldById?.('state')!.tabIndex"
      />
    </div>
    <span class="text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >ZIP:</span
    >
    <div class="flex items-baseline gap-0">
      21214
      <input
        type="text"
        class="bg-transparent w-[50px] border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('zip')!)"
        (input)="onFieldChange?.(getFieldById?.('zip')!, $event)"
        maxlength="10"
        [tabindex]="getFieldById?.('zip')!.tabIndex"
      />
    </div>
  </div>

  <!-- Country -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Country:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      <input
        type="text"
        class="bg-transparent border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('country')!)"
        (input)="onFieldChange?.(getFieldById?.('country')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('country')!.tabIndex"
      />
    </div>
  </div>

  <!-- Telephone and Fax -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Telephone:</span
    >
    <div class="flex items-baseline gap-0 mr-14">
      <input
        type="text"
        class="bg-transparent border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] placeholder:text-crt-green [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('telephone')!)"
        (input)="onFieldChange?.(getFieldById?.('telephone')!, $event)"
        maxlength="25"
        [tabindex]="getFieldById?.('telephone')!.tabIndex"
        placeholder="111-222-3333"
        style="width: 15ch"
      />
    </div>
    <span
      class="min-w-[40px] text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >Fax:</span
    >
    <div class="flex items-baseline gap-0">
      <input
        type="text"
        class="bg-transparent border-b border-crt-green text-crt-green font-mono placeholder:text-crt-green text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('fax')!)"
        (input)="onFieldChange?.(getFieldById?.('fax')!, $event)"
        maxlength="15"
        [tabindex]="getFieldById?.('fax')!.tabIndex"
        placeholder="___-___-_______"
        style="width: 13ch"
      />
    </div>
  </div>

  <!-- Email -->
  <div class="flex items-baseline mb-0 min-h-[10px]">
    <span
      class="inline-block text-right min-w-[140px] mr-1 text-crt-cyan font-normal [text-shadow:0_0_2px_#50D8D5]"
      >e-mail:</span
    >
    <div class="flex items-baseline flex-grow gap-0">
      <input
        type="text"
        class="bg-transparent border-b border-crt-green text-crt-green font-mono text-sm leading-none tracking-normal outline-none [text-shadow:0_0_2px_#41C347] [caret-color:#41C347] p-0 m-0 [font-variant-ligatures:none] [vertical-align:baseline] h-[14px] inline-block relative focus:bg-[rgba(65,195,71,0.03)] focus:[text-shadow:0_0_3px_#41C347,0_0_6px_#41C347]"
        [value]="getFieldValue?.(getFieldById?.('email')!)"
        (input)="onFieldChange?.(getFieldById?.('email')!, $event)"
        maxlength="60"
        [tabindex]="getFieldById?.('email')!.tabIndex"
      />
    </div>
  </div>
</div>

<!-- Footer Section -->
<div
  class="absolute bottom-0 left-5 right-5 flex pt-2.5 pb-2.5 text-sm bg-black/95 z-[15]"
>
  <span
    class="font-normal whitespace-nowrap cursor-pointer transition-all duration-200 text-crt-gray [text-shadow:0_0_2px_#A7A7A7,0_0_4px_#A7A7A7] hover:[text-shadow:0_0_4px_#A7A7A7,0_0_8px_#A7A7A7,0_0_12px_#A7A7A7] hover:scale-105"
    >PF:
  </span>
  <span
    *ngFor="let pfKey of screen?.footer?.pfKeys; let last = last"
    class="font-normal whitespace-nowrap cursor-pointer transition-all duration-200 text-white [text-shadow:0_0_2px_#A7A7A7,0_0_4px_#A7A7A7] hover:[text-shadow:0_0_4px_#A7A7A7,0_0_8px_#A7A7A7,0_0_12px_#A7A7A7]"
  >
    {{ pfKey.label }}<span *ngIf="!last">&nbsp;&nbsp;&nbsp;</span>
  </span>
</div>
